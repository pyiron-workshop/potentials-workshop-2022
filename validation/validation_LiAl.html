
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Validation of the potentials &#8212; Workshop: From Electrons to Phase Diagrams</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Day 3: Thermodynamic properties and phase diagrams" href="../phase_diagram/Intro.html" />
    <link rel="prev" title="Import and load" href="../potentials/03-ACE/pacemaker_example.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/potentials_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Workshop: From Electrons to Phase Diagrams</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    <font style="color:#B71C1C" face="Helvetica" > From Electrons to Phase Diagrams 2022 </font>
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../introduction/Intro.html">
   <font face="Helvetica" style="color:#B71C1C">
    Day 1: DFT database and workflow management with pyiron
   </font>
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../introduction/ex_01_introduction_to_pyiron.html">
     Exercise 1: Introduction to atomistic simulations with pyiron
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../introduction/ex_02_creating_structure_databases.html">
     Exercise 2: Creating and working with structure databases
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../introduction/ex_03_visualizing_training_data.html">
     Exercise 3: Visualizing Training Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../potentials/Intro.html">
   <font face="Helvetica" style="color:#B71C1C">
    Day 2: Creating and validating EAM, NN and ACE potentials
   </font>
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../potentials/01-EAM/IntroductionPotentialFitting.html">
     Interatomic potentials
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../potentials/01-EAM/HandsOnPotenitalFitting.html">
     Training data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../potentials/02-HDNNP/handson.html">
     High-Dimensional Neural Network Potentials
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../potentials/03-ACE/pacemaker_example.html">
     Import and load
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Validation of the potentials
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../phase_diagram/Intro.html">
   <font face="Helvetica" style="color:#B71C1C">
    Day 3: Thermodynamic properties and phase diagrams
   </font>
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../phase_diagram/tutorial_1.html">
     <font face="Helvetica" style="color:#B71C1C">
      Phase diagrams and how to calculate them
     </font>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../phase_diagram/tutorial_2.html">
     <font face="Helvetica" style="color:#B71C1C">
      AlLi phase diagram
     </font>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../phase_diagram/exercise_1.html">
     <font face="Helvetica" style="color:#B71C1C">
      Exercise 1
     </font>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../phase_diagram/exercise_2.html">
     <font face="Helvetica" style="color:#B71C1C">
      Exercise 2
     </font>
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/pyiron/potentials-workshop-2022/main?urlpath=tree/book/validation/validation_LiAl.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/pyiron/potentials-workshop-2022"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/validation/validation_LiAl.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-the-fitted-potentials-for-li-al-from-earlier-excercise">
   Import the fitted potentials for Li-Al (from earlier excercise)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-other-important-modules">
   Import other important modules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#create-a-new-project-to-perform-validation-calculations">
   Create a new project to perform validation calculations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#define-the-important-pases-to-consider-for-validation">
   Define the important pases to consider for validation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualize-the-strucs">
     Visualize the strucs
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-ground-state-e-v-curves">
   (a) Ground state: E-V curves
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#b-elastic-constants-and-phonons">
   (b) Elastic constants and Phonons
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#c-convex-hull">
   (c) Convex hull
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Validation of the potentials</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-the-fitted-potentials-for-li-al-from-earlier-excercise">
   Import the fitted potentials for Li-Al (from earlier excercise)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-other-important-modules">
   Import other important modules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#create-a-new-project-to-perform-validation-calculations">
   Create a new project to perform validation calculations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#define-the-important-pases-to-consider-for-validation">
   Define the important pases to consider for validation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualize-the-strucs">
     Visualize the strucs
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-ground-state-e-v-curves">
   (a) Ground state: E-V curves
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#b-elastic-constants-and-phonons">
   (b) Elastic constants and Phonons
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#c-convex-hull">
   (c) Convex hull
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="validation-of-the-potentials">
<h1>Validation of the potentials<a class="headerlink" href="#validation-of-the-potentials" title="Permalink to this headline">#</a></h1>
<p>Once we have the fitted potentials, it is necessary to validate them in order to assess their quality with respect to applications.</p>
<p>In this exercise, we use the fitted potentials and perform some basic calculations.</p>
<section id="import-the-fitted-potentials-for-li-al-from-earlier-excercise">
<h2>Import the fitted potentials for Li-Al (from earlier excercise)<a class="headerlink" href="#import-the-fitted-potentials-for-li-al-from-earlier-excercise" title="Permalink to this headline">#</a></h2>
<p>The same directory contains a <code class="docutils literal notranslate"><span class="pre">helper.py</span></code> file which among other things, also contains the necessary specifications of each of the potentials that we will use today. Individual potentials are descrbed in the LAMMPS format as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pot_eam</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;LiAl_eam&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Filename&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;../potentials/AlLi.eam.fs&quot;</span><span class="p">)]],</span>
    <span class="s1">&#39;Model&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;EAM&quot;</span><span class="p">],</span>
    <span class="s1">&#39;Species&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;Li&#39;</span><span class="p">,</span> <span class="s1">&#39;Al&#39;</span><span class="p">]],</span>
    <span class="s1">&#39;Config&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;pair_style eam/fs</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;pair_coeff * * AlLi.eam.fs Li Al</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">]]</span>
<span class="p">})</span>

</pre></div>
</div>
<p>A list of such DataFrames describing the potentials is saved in a list called <code class="docutils literal notranslate"><span class="pre">potentials_list</span></code>. We import the list as:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">helper</span> <span class="kn">import</span> <span class="n">potentials_list</span>

<span class="c1"># potentials_list = [potentials_list[0],potentials_list[1]]</span>

<span class="c1"># display the first element in the list</span>
<span class="c1"># which is an EAM potential</span>
<span class="n">potentials_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Filename</th>
      <th>Model</th>
      <th>Species</th>
      <th>Config</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>LiAl_yace</td>
      <td>[/home/jovyan/workshop_preparation/potentials/...</td>
      <td>ACE</td>
      <td>[Al, Li]</td>
      <td>[pair_style pace\n, pair_coeff * * AlLi-6gen-1...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="import-other-important-modules">
<h2>Import other important modules<a class="headerlink" href="#import-other-important-modules" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="kn">from</span> <span class="nn">helper</span> <span class="kn">import</span> <span class="n">get_clean_project_name</span>

<span class="kn">from</span> <span class="nn">pyiron_atomistics</span> <span class="kn">import</span> <span class="n">Project</span>
<span class="kn">from</span> <span class="nn">pyiron</span> <span class="kn">import</span> <span class="n">pyiron_to_ase</span>
<span class="kn">import</span> <span class="nn">pyiron_gpl</span>

<span class="c1"># save start time to record runtime of the notebook</span>
<span class="n">time_start</span> <span class="o">=</span>  <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">time_start</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1654697715.1585205
</pre></div>
</div>
</div>
</div>
</section>
<section id="create-a-new-project-to-perform-validation-calculations">
<h2>Create a new project to perform validation calculations<a class="headerlink" href="#create-a-new-project-to-perform-validation-calculations" title="Permalink to this headline">#</a></h2>
<p>It is useful to create a new project directory for every kind of calculation. Pyiron will automatically create subdirectories for each potential and property we calculate.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pr</span> <span class="o">=</span> <span class="n">Project</span><span class="p">(</span><span class="s2">&quot;validation_LiAl&quot;</span><span class="p">)</span>

<span class="c1"># remove earlier jobs</span>
<span class="c1"># pr.remove_jobs(silently=True, recursive=True)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="define-the-important-pases-to-consider-for-validation">
<h2>Define the important pases to consider for validation<a class="headerlink" href="#define-the-important-pases-to-consider-for-validation" title="Permalink to this headline">#</a></h2>
<p>We construct a python dictionary <code class="docutils literal notranslate"><span class="pre">struct_dict</span></code> which contains a description of all the important phases that we want to consider for this exercise. The descriptions given in the dictionary will be later used by Pyiron to generate or read the structural configurations for the respective phases.</p>
<p>For unary phases, we provide an initial guess for the lattice parameter and use pyiron to generate the structural prototype.</p>
<p>For binary phases, we provide a phase name and an additional dictionary <code class="docutils literal notranslate"><span class="pre">fl_dict</span></code> which maps the phase name to a <code class="docutils literal notranslate"><span class="pre">.cif</span></code> file saved in a subdirectory. Pyiron will use this information to read the respective configurations from the file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">struct_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

<span class="c1"># structures to be generated automatically</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Al&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Al&quot;</span><span class="p">][</span><span class="s2">&quot;s_murn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fcc&quot;</span><span class="p">,</span><span class="s2">&quot;bcc&quot;</span><span class="p">]</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Al&quot;</span><span class="p">][</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">4.04</span>

<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li&quot;</span><span class="p">][</span><span class="s2">&quot;s_murn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;bcc&quot;</span><span class="p">,</span><span class="s2">&quot;fcc&quot;</span><span class="p">]</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li&quot;</span><span class="p">][</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.5</span>


<span class="c1"># structures to be read from file</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li2Al2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li2Al2&quot;</span><span class="p">][</span><span class="s2">&quot;s_murn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Li2Al2_cubic&quot;</span><span class="p">]</span>

<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;LiAl3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;LiAl3&quot;</span><span class="p">][</span><span class="s2">&quot;s_murn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;LiAl3_tetragonal&quot;</span><span class="p">]</span>

<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;LiAl3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;LiAl3&quot;</span><span class="p">][</span><span class="s2">&quot;s_murn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;LiAl3_cubic&quot;</span><span class="p">]</span>

<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li9Al4&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li9Al4&quot;</span><span class="p">][</span><span class="s2">&quot;s_murn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Li9Al4_monoclinic&quot;</span><span class="p">]</span>

<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li3Al2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li3Al2&quot;</span><span class="p">][</span><span class="s2">&quot;s_murn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Li3Al2_trigonal&quot;</span><span class="p">]</span>

<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li4Al4&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">struct_dict</span><span class="p">[</span><span class="s2">&quot;Li4Al4&quot;</span><span class="p">][</span><span class="s2">&quot;s_murn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Li4Al4_cubic&quot;</span><span class="p">]</span>

<span class="n">struct_dict</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Al&#39;: {&#39;s_murn&#39;: [&#39;fcc&#39;, &#39;bcc&#39;], &#39;a&#39;: 4.04},
 &#39;Li&#39;: {&#39;s_murn&#39;: [&#39;bcc&#39;, &#39;fcc&#39;], &#39;a&#39;: 3.5},
 &#39;Li2Al2&#39;: {&#39;s_murn&#39;: [&#39;Li2Al2_cubic&#39;]},
 &#39;LiAl3&#39;: {&#39;s_murn&#39;: [&#39;LiAl3_cubic&#39;]},
 &#39;Li9Al4&#39;: {&#39;s_murn&#39;: [&#39;Li9Al4_monoclinic&#39;]},
 &#39;Li3Al2&#39;: {&#39;s_murn&#39;: [&#39;Li3Al2_trigonal&#39;]},
 &#39;Li4Al4&#39;: {&#39;s_murn&#39;: [&#39;Li4Al4_cubic&#39;]}}
</pre></div>
</div>
</div>
</div>
<p>a dictionary is described to map the binary phases to their file locations</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fl_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Li2Al2_cubic&quot;</span><span class="p">:</span> <span class="s2">&quot;mp_structures/LiAl_mp-1067_primitive.cif&quot;</span><span class="p">,</span>
           <span class="s2">&quot;LiAl3_tetragonal&quot;</span><span class="p">:</span><span class="s2">&quot;mp_structures/LiAl3_mp-975906_primitive.cif&quot;</span><span class="p">,</span>
           <span class="s2">&quot;LiAl3_cubic&quot;</span><span class="p">:</span><span class="s2">&quot;mp_structures/LiAl3_mp-10890_primitive.cif&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Li9Al4_monoclinic&quot;</span><span class="p">:</span><span class="s2">&quot;mp_structures/Li9Al4_mp-568404_primitive.cif&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Li3Al2_trigonal&quot;</span><span class="p">:</span><span class="s2">&quot;mp_structures/Al2Li3-6021.cif&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Li4Al4_cubic&quot;</span><span class="p">:</span><span class="s2">&quot;mp_structures/LiAl_mp-1079240_primitive.cif&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<section id="visualize-the-strucs">
<h3>Visualize the strucs<a class="headerlink" href="#visualize-the-strucs" title="Permalink to this headline">#</a></h3>
<p>Once the structures are defined in the pyiron format, we can view their atomic coordinates and cell vectors using <code class="docutils literal notranslate"><span class="pre">struc.plot3d()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Option 1: use `ase.build.bulk` functionality in pyiron</span>
<span class="n">struc</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">create_ase_bulk</span><span class="p">(</span><span class="s2">&quot;Al&quot;</span><span class="p">,</span> <span class="s2">&quot;fcc&quot;</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mf">4.04</span><span class="p">,</span><span class="n">cubic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># struc.plot3d()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Option 2: Read from a file</span>
<span class="n">struc</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">create</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">ase</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">fl_dict</span><span class="p">[</span><span class="s2">&quot;Li4Al4_cubic&quot;</span><span class="p">])</span>

<span class="c1"># struc.plot3d()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="a-ground-state-e-v-curves">
<h2>(a) Ground state: E-V curves<a class="headerlink" href="#a-ground-state-e-v-curves" title="Permalink to this headline">#</a></h2>
<p>Using a series of nested <code class="docutils literal notranslate"><span class="pre">for</span></code> loops, we calculate the murnaghan EV-curves using all three potentials for all the defined structures.</p>
<p>We loop over:</p>
<ul class="simple">
<li><p>All the potentials defined in <code class="docutils literal notranslate"><span class="pre">potentials_list</span></code> and name the project according to the potential</p>
<ul>
<li><p>All the chemical formulae defined in the keys of <code class="docutils literal notranslate"><span class="pre">struct_dict</span></code></p>
<ul>
<li><p>All phases defined for a given chemical formula</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Within the loops, the first step is to get the structure basis on which we will perform the calculations.</p>
<ul class="simple">
<li><p>For unary phases, we use the pyiron function <code class="docutils literal notranslate"><span class="pre">pr_pot.create_ase_bulk(compound,</span> <span class="pre">crys_structure,</span> <span class="pre">a=compound_dict[&quot;a&quot;])</span></code></p></li>
<li><p>For binary structures, we read the basis using <code class="docutils literal notranslate"><span class="pre">pr.create.structure.ase.read(fl_path)</span></code> with the <code class="docutils literal notranslate"><span class="pre">fl_path</span></code> given by <code class="docutils literal notranslate"><span class="pre">fl_dict</span></code> defined earlier.</p></li>
</ul>
<p>Once the structure and potential is defined as part of the pr_job, we run two calculations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">job_relax</span></code> to relax the structure to the ground state</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">murn_job</span></code> to calculate the energies in a small volume range around the equilibrium</p></li>
</ul>
<p>As the calculations are being performed, the status(s) of each calculation is printed. If a job is already calculated, the calculations are not re-run but rather re-read from the saved data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">pot</span> <span class="ow">in</span> <span class="n">potentials_list</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">pr</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">))</span> <span class="k">as</span> <span class="n">pr_pot</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">pr_pot</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">compound</span><span class="p">,</span> <span class="n">compound_dict</span> <span class="ow">in</span> <span class="n">struct_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">crys_structure</span> <span class="ow">in</span> <span class="n">compound_dict</span><span class="p">[</span><span class="s2">&quot;s_murn&quot;</span><span class="p">]:</span>
                
                <span class="c1"># Relax structure</span>
                <span class="k">if</span> <span class="n">crys_structure</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;fcc&quot;</span><span class="p">,</span><span class="s2">&quot;bcc&quot;</span><span class="p">]:</span>
                    <span class="n">basis</span> <span class="o">=</span> <span class="n">pr_pot</span><span class="o">.</span><span class="n">create_ase_bulk</span><span class="p">(</span><span class="n">compound</span><span class="p">,</span> <span class="n">crys_structure</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="n">compound_dict</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">basis</span> <span class="o">=</span> <span class="n">pr_pot</span><span class="o">.</span><span class="n">create</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">ase</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">fl_dict</span><span class="p">[</span><span class="n">crys_structure</span><span class="p">])</span>
                    
                <span class="n">job_relax</span> <span class="o">=</span> <span class="n">pr_pot</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span><span class="n">pr_pot</span><span class="o">.</span><span class="n">job_type</span><span class="o">.</span><span class="n">Lammps</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">compound</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">crys_structure</span><span class="si">}</span><span class="s2">_relax&quot;</span><span class="p">,</span> <span class="n">delete_existing_job</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

                <span class="n">job_relax</span><span class="o">.</span><span class="n">structure</span> <span class="o">=</span> <span class="n">basis</span>
                <span class="n">job_relax</span><span class="o">.</span><span class="n">potential</span> <span class="o">=</span> <span class="n">pot</span>
                <span class="n">job_relax</span><span class="o">.</span><span class="n">calc_minimize</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
                <span class="n">job_relax</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
                
                <span class="c1"># Murnaghan</span>
                <span class="n">job_ref</span> <span class="o">=</span> <span class="n">pr_pot</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span><span class="n">pr_pot</span><span class="o">.</span><span class="n">job_type</span><span class="o">.</span><span class="n">Lammps</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;ref_job_</span><span class="si">{</span><span class="n">compound</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">crys_structure</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">job_ref</span><span class="o">.</span><span class="n">structure</span> <span class="o">=</span> <span class="n">job_relax</span><span class="o">.</span><span class="n">get_structure</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">job_ref</span><span class="o">.</span><span class="n">potential</span> <span class="o">=</span> <span class="n">pot</span>
                <span class="n">job_ref</span><span class="o">.</span><span class="n">calc_minimize</span><span class="p">()</span>
                
                <span class="n">murn_job</span> <span class="o">=</span> <span class="n">job_ref</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span><span class="n">pr_pot</span><span class="o">.</span><span class="n">job_type</span><span class="o">.</span><span class="n">Murnaghan</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;murn_job_</span><span class="si">{</span><span class="n">compound</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">crys_structure</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">murn_job</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s2">&quot;vol_range&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.1</span>
                <span class="n">murn_job</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/jovyan/workshop_preparation/validation/validation_LiAl/LiAl_eam/
The job Al_fcc_relax was saved and received the ID: 1752
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:16,704 - pyiron_log - WARNING - The job murn_job_Al_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Al_bcc_relax was saved and received the ID: 1753
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:18,339 - pyiron_log - WARNING - The job murn_job_Al_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li_bcc_relax was saved and received the ID: 1754
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:19,051 - pyiron_log - WARNING - The job murn_job_Li_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li_fcc_relax was saved and received the ID: 1755
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:20,323 - pyiron_log - WARNING - The job murn_job_Li_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li2Al2_Li2Al2_cubic_relax was saved and received the ID: 1756
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:22,012 - pyiron_log - WARNING - The job murn_job_Li2Al2_Li2Al2_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job LiAl3_LiAl3_cubic_relax was saved and received the ID: 1757
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:23,393 - pyiron_log - WARNING - The job murn_job_LiAl3_LiAl3_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li9Al4_Li9Al4_monoclinic_relax was saved and received the ID: 1758
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:24,515 - pyiron_log - WARNING - The job murn_job_Li9Al4_Li9Al4_monoclinic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li3Al2_Li3Al2_trigonal_relax was saved and received the ID: 1759
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:25,720 - pyiron_log - WARNING - The job murn_job_Li3Al2_Li3Al2_trigonal is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li4Al4_Li4Al4_cubic_relax was saved and received the ID: 1760
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:27,012 - pyiron_log - WARNING - The job murn_job_Li4Al4_Li4Al4_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/jovyan/workshop_preparation/validation/validation_LiAl/RuNNer-AlLi/
The job Al_fcc_relax was saved and received the ID: 1761
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:27,799 - pyiron_log - WARNING - The job murn_job_Al_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Al_bcc_relax was saved and received the ID: 1762
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:28,779 - pyiron_log - WARNING - The job murn_job_Al_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li_bcc_relax was saved and received the ID: 1763
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:29,535 - pyiron_log - WARNING - The job murn_job_Li_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li_fcc_relax was saved and received the ID: 1764
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:30,637 - pyiron_log - WARNING - The job murn_job_Li_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li2Al2_Li2Al2_cubic_relax was saved and received the ID: 1765
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:32,209 - pyiron_log - WARNING - The job murn_job_Li2Al2_Li2Al2_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job LiAl3_LiAl3_cubic_relax was saved and received the ID: 1766
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:33,439 - pyiron_log - WARNING - The job murn_job_LiAl3_LiAl3_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li9Al4_Li9Al4_monoclinic_relax was saved and received the ID: 1767
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:34,543 - pyiron_log - WARNING - The job murn_job_Li9Al4_Li9Al4_monoclinic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li3Al2_Li3Al2_trigonal_relax was saved and received the ID: 1768
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:35,739 - pyiron_log - WARNING - The job murn_job_Li3Al2_Li3Al2_trigonal is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li4Al4_Li4Al4_cubic_relax was saved and received the ID: 1769
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:36,881 - pyiron_log - WARNING - The job murn_job_Li4Al4_Li4Al4_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/jovyan/workshop_preparation/validation/validation_LiAl/LiAl_yace/
The job Al_fcc_relax was saved and received the ID: 1770
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:38,178 - pyiron_log - WARNING - The job murn_job_Al_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Al_bcc_relax was saved and received the ID: 1771
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:39,859 - pyiron_log - WARNING - The job murn_job_Al_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li_bcc_relax was saved and received the ID: 1772
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:41,447 - pyiron_log - WARNING - The job murn_job_Li_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li_fcc_relax was saved and received the ID: 1773
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:42,997 - pyiron_log - WARNING - The job murn_job_Li_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li2Al2_Li2Al2_cubic_relax was saved and received the ID: 1774
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:44,100 - pyiron_log - WARNING - The job murn_job_Li2Al2_Li2Al2_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job LiAl3_LiAl3_cubic_relax was saved and received the ID: 1775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:45,161 - pyiron_log - WARNING - The job murn_job_LiAl3_LiAl3_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li9Al4_Li9Al4_monoclinic_relax was saved and received the ID: 1776
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:46,678 - pyiron_log - WARNING - The job murn_job_Li9Al4_Li9Al4_monoclinic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li3Al2_Li3Al2_trigonal_relax was saved and received the ID: 1777
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:48,152 - pyiron_log - WARNING - The job murn_job_Li3Al2_Li3Al2_trigonal is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job Li4Al4_Li4Al4_cubic_relax was saved and received the ID: 1778
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:15:49,387 - pyiron_log - WARNING - The job murn_job_Li4Al4_Li4Al4_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
</div>
</div>
<p>One can display the technical details of all submitted jobs using <code class="docutils literal notranslate"><span class="pre">pr.job_table()</span></code> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pr.job_table()</span>
</pre></div>
</div>
</div>
</div>
<p>In order to get read useful results from the completed calculations (eq_energy, eq_volume, etc), it is useful to define the following functions</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Only work with Murnaghan jobs</span>
<span class="k">def</span> <span class="nf">get_only_murn</span><span class="p">(</span><span class="n">job_table</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">job_table</span><span class="o">.</span><span class="n">hamilton</span> <span class="o">==</span> <span class="s2">&quot;Murnaghan&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">job_table</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;finished&quot;</span><span class="p">)</span> 

<span class="k">def</span> <span class="nf">get_eq_vol</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job_path</span><span class="p">[</span><span class="s2">&quot;output/equilibrium_volume&quot;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">get_eq_lp</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">job_path</span><span class="p">[</span><span class="s2">&quot;output/structure/cell/cell&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_eq_bm</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job_path</span><span class="p">[</span><span class="s2">&quot;output/equilibrium_bulk_modulus&quot;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">get_potential</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job_path</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">get_eq_energy</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job_path</span><span class="p">[</span><span class="s2">&quot;output/equilibrium_energy&quot;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">get_n_atoms</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">job_path</span><span class="p">[</span><span class="s2">&quot;output/structure/positions&quot;</span><span class="p">])</span>

<span class="k">def</span> <span class="nf">get_ase_atoms</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">pyiron_to_ase</span><span class="p">(</span><span class="n">job_path</span><span class="o">.</span><span class="n">structure</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">get_potential</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job_path</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">get_crystal_structure</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job_path</span><span class="o">.</span><span class="n">job_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">get_compound</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job_path</span><span class="o">.</span><span class="n">job_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Using the functions defined above, one can now define a <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> containing all useful results</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compile data using pyiron tables</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="s2">&quot;table_murn&quot;</span><span class="p">,</span> <span class="n">delete_existing_job</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">table</span><span class="o">.</span><span class="n">convert_to_object</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">table</span><span class="o">.</span><span class="n">db_filter_function</span> <span class="o">=</span> <span class="n">get_only_murn</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;potential&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_potential</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;ase_atoms&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_ase_atoms</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;compound&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_compound</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;crystal_structure&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_crystal_structure</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_eq_lp</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;eq_vol&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_eq_vol</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;eq_bm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_eq_bm</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;eq_energy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_eq_energy</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;n_atoms&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_n_atoms</span>
<span class="n">table</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="n">data_murn</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
<span class="n">data_murn</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_murn</span><span class="o">.</span><span class="n">compound</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">data_murn</span><span class="o">.</span><span class="n">crystal_structure</span>
<span class="n">data_murn</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job table_murn was saved and received the ID: 1779
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "e14e271016bb4acd89c1fd1d4a475704", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "3f8fdcefa33941dcb7d235877eaaf96b", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/srv/conda/envs/notebook/lib/python3.8/site-packages/pyiron_base/table/datamining.py:620: PerformanceWarning: 
your performance may suffer as PyTables will pickle object types that it cannot
map directly to c-types [inferred_type-&gt;mixed,key-&gt;block2_values] [items-&gt;Index([&#39;potential&#39;, &#39;ase_atoms&#39;, &#39;compound&#39;, &#39;crystal_structure&#39;], dtype=&#39;object&#39;)]

  self.pyiron_table._df.to_hdf(
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>job_id</th>
      <th>potential</th>
      <th>ase_atoms</th>
      <th>compound</th>
      <th>crystal_structure</th>
      <th>a</th>
      <th>eq_vol</th>
      <th>eq_bm</th>
      <th>eq_energy</th>
      <th>n_atoms</th>
      <th>phase</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1140</td>
      <td>LiAl_eam</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>fcc</td>
      <td>4.039967</td>
      <td>16.495612</td>
      <td>85.876912</td>
      <td>-3.483097</td>
      <td>1</td>
      <td>Al_fcc</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1153</td>
      <td>LiAl_eam</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>bcc</td>
      <td>3.898853</td>
      <td>16.147864</td>
      <td>48.620841</td>
      <td>-3.415312</td>
      <td>1</td>
      <td>Al_bcc</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1166</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>bcc</td>
      <td>4.195477</td>
      <td>20.114514</td>
      <td>13.690609</td>
      <td>-1.757011</td>
      <td>1</td>
      <td>Li_bcc</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1179</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>fcc</td>
      <td>4.253841</td>
      <td>19.241330</td>
      <td>13.985972</td>
      <td>-1.758107</td>
      <td>1</td>
      <td>Li_fcc</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1192</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [4.359978178265943, 2.5172345748814795, 1.7799536377360747], index=0), Atom('Li', [6.53996726740165, 3.775851862320358, 2.669930456604317], index=1), Atom('Al', [-3.964456982410852e-12...</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>6.165940</td>
      <td>58.604895</td>
      <td>100.347240</td>
      <td>-11.074362</td>
      <td>4</td>
      <td>Li2Al2_cubic</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1205</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Al', [1.9825515172760235, 1.9825515172760237, 2.427925369776811e-16], index=1), Atom('Al', [1.9825515172760235, 1.2139626848884054e-16, 1.9825515172760...</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>5.607502</td>
      <td>62.227580</td>
      <td>51.472656</td>
      <td>-12.774590</td>
      <td>4</td>
      <td>LiAl3_cubic</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1218</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [4.9874611628416465, 1.0099045365192156, 0.8188840806477526], index=0), Atom('Li', [3.1237816780987666, 1.455730745331952, 2.673723152073369], index=1), Atom('Li', [-3.4421956688209843...</td>
      <td>Li9Al4</td>
      <td>monoclinic</td>
      <td>13.023701</td>
      <td>190.504374</td>
      <td>53.125276</td>
      <td>-28.970054</td>
      <td>13</td>
      <td>Li9Al4_monoclinic</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1231</td>
      <td>LiAl_eam</td>
      <td>(Atom('Al', [2.1548001975659234, 1.244075358781918, 1.861784175000869], index=0), Atom('Al', [-2.154798282819334, 3.732223313213554, 2.6646760238080542], index=1), Atom('Li', [8.560563403365654e-0...</td>
      <td>Li3Al2</td>
      <td>trigonal</td>
      <td>6.094693</td>
      <td>72.810229</td>
      <td>69.231669</td>
      <td>-12.413856</td>
      <td>5</td>
      <td>Li3Al2_trigonal</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1244</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [2.142967147985671, 1.2372426587287435, 7.662120717536293], index=0), Atom('Li', [-8.783761113500244e-10, 2.4744853189563414, 0.5913679335098909], index=1), Atom('Li', [-8.783761113500...</td>
      <td>Li4Al4</td>
      <td>cubic</td>
      <td>6.061226</td>
      <td>131.389799</td>
      <td>71.221355</td>
      <td>-20.506570</td>
      <td>8</td>
      <td>Li4Al4_cubic</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1257</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>fcc</td>
      <td>4.025259</td>
      <td>16.355737</td>
      <td>76.669339</td>
      <td>-3.484016</td>
      <td>1</td>
      <td>Al_fcc</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1270</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>bcc</td>
      <td>3.958447</td>
      <td>16.870137</td>
      <td>51.052272</td>
      <td>-3.432183</td>
      <td>1</td>
      <td>Al_bcc</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1283</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>bcc</td>
      <td>4.211118</td>
      <td>20.286595</td>
      <td>8.517306</td>
      <td>-1.755918</td>
      <td>1</td>
      <td>Li_bcc</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1296</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>fcc</td>
      <td>3.967043</td>
      <td>15.678901</td>
      <td>147.215464</td>
      <td>-1.769260</td>
      <td>1</td>
      <td>Li_fcc</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1309</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [4.509081801264686, 2.603319591757272, 1.8408249369278522], index=0), Atom('Li', [6.763622701898693, 3.90497938763465, 2.7612374053913604], index=1), Atom('Al', [-3.844724064520768e-12...</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>6.376805</td>
      <td>64.816143</td>
      <td>57.934650</td>
      <td>-11.212634</td>
      <td>4</td>
      <td>Li2Al2_cubic</td>
    </tr>
    <tr>
      <th>14</th>
      <td>1322</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Al', [2.0154153406879987, 2.0154153406879987, 2.46817194592603e-16], index=1), Atom('Al', [2.0154153406879987, 1.234085972963015e-16, 2.015415340687998...</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>5.700455</td>
      <td>65.403086</td>
      <td>59.308440</td>
      <td>-12.574696</td>
      <td>4</td>
      <td>LiAl3_cubic</td>
    </tr>
    <tr>
      <th>15</th>
      <td>1335</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [5.206051477294367, 1.0619663179427192, 0.8311820920214751], index=0), Atom('Li', [3.28638171437237, 1.5211864250363467, 2.7226207058417775], index=1), Atom('Li', [-3.6198784902055765,...</td>
      <td>Li9Al4</td>
      <td>monoclinic</td>
      <td>13.640614</td>
      <td>218.932018</td>
      <td>33.874957</td>
      <td>-31.820765</td>
      <td>13</td>
      <td>Li9Al4_monoclinic</td>
    </tr>
    <tr>
      <th>16</th>
      <td>1348</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Al', [2.2338755345732753, 1.289729472183878, 1.9126243306628208], index=0), Atom('Al', [-2.233873547699001, 3.869185551846968, 2.7799443936883206], index=1), Atom('Li', [9.007133262260959e-...</td>
      <td>Li3Al2</td>
      <td>trigonal</td>
      <td>6.318351</td>
      <td>81.143544</td>
      <td>44.574696</td>
      <td>-13.185198</td>
      <td>5</td>
      <td>Li3Al2_trigonal</td>
    </tr>
    <tr>
      <th>17</th>
      <td>1361</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [2.220260976080854, 1.2818682724036983, 7.872085429446316], index=0), Atom('Li', [1.722758777253687e-10, 2.5637365444716322, 0.6790950189344616], index=1), Atom('Li', [1.72275877725368...</td>
      <td>Li4Al4</td>
      <td>cubic</td>
      <td>6.279846</td>
      <td>146.014891</td>
      <td>37.664442</td>
      <td>-21.680919</td>
      <td>8</td>
      <td>Li4Al4_cubic</td>
    </tr>
    <tr>
      <th>18</th>
      <td>1393</td>
      <td>LiAl_yace</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>fcc</td>
      <td>4.044553</td>
      <td>16.541594</td>
      <td>87.130427</td>
      <td>-3.478909</td>
      <td>1</td>
      <td>Al_fcc</td>
    </tr>
    <tr>
      <th>19</th>
      <td>1406</td>
      <td>LiAl_yace</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>bcc</td>
      <td>3.953036</td>
      <td>16.811334</td>
      <td>72.667242</td>
      <td>-3.388831</td>
      <td>1</td>
      <td>Al_bcc</td>
    </tr>
    <tr>
      <th>20</th>
      <td>1419</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>bcc</td>
      <td>4.216389</td>
      <td>20.403222</td>
      <td>15.823747</td>
      <td>-1.756104</td>
      <td>1</td>
      <td>Li_bcc</td>
    </tr>
    <tr>
      <th>21</th>
      <td>1435</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>fcc</td>
      <td>4.331457</td>
      <td>20.318983</td>
      <td>14.231625</td>
      <td>-1.755594</td>
      <td>1</td>
      <td>Li_fcc</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1451</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [4.5021943685456485, 2.599343130623782, 1.8380131542949232], index=0), Atom('Li', [6.753291552821257, 3.8990146959337566, 2.7570197314419675], index=1), Atom('Al', [-3.838851410290508e...</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>6.367064</td>
      <td>64.521799</td>
      <td>46.107162</td>
      <td>-11.185880</td>
      <td>4</td>
      <td>Li2Al2_cubic</td>
    </tr>
    <tr>
      <th>23</th>
      <td>1464</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Al', [2.0106543994993293, 2.0106543994993293, 2.462341474538397e-16], index=1), Atom('Al', [2.0106543994993293, 1.2311707372691985e-16, 2.0106543994993...</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>5.686989</td>
      <td>65.028366</td>
      <td>66.254925</td>
      <td>-12.569153</td>
      <td>4</td>
      <td>LiAl3_cubic</td>
    </tr>
    <tr>
      <th>24</th>
      <td>1480</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [5.141009159558869, 1.0571139195527752, 0.820249453790277], index=0), Atom('Li', [3.2705789348169056, 1.5045550288016276, 2.715159327393234], index=1), Atom('Li', [-3.601125467999465, ...</td>
      <td>Li9Al4</td>
      <td>monoclinic</td>
      <td>13.519944</td>
      <td>213.136118</td>
      <td>33.963240</td>
      <td>-31.796316</td>
      <td>13</td>
      <td>Li9Al4_monoclinic</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1493</td>
      <td>LiAl_yace</td>
      <td>(Atom('Al', [2.2270976540671734, 1.2858164055924044, 1.9025646270076813], index=0), Atom('Al', [-2.227095628822777, 3.8574462424884515, 2.7757665665986657], index=1), Atom('Li', [8.407589514518869...</td>
      <td>Li3Al2</td>
      <td>trigonal</td>
      <td>6.299181</td>
      <td>80.375104</td>
      <td>39.643133</td>
      <td>-13.138303</td>
      <td>5</td>
      <td>Li3Al2_trigonal</td>
    </tr>
    <tr>
      <th>26</th>
      <td>1506</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [2.2269869888586107, 1.285751535686306, 7.864026721150146], index=0), Atom('Li', [-1.5554058443124377e-09, 2.571503074062492, 0.7130584901440213], index=1), Atom('Li', [-1.555405844312...</td>
      <td>Li4Al4</td>
      <td>cubic</td>
      <td>6.298870</td>
      <td>147.356944</td>
      <td>46.701117</td>
      <td>-21.607231</td>
      <td>8</td>
      <td>Li4Al4_cubic</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_dft_ref</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s2">&quot;dft_ref.pckl&quot;</span><span class="p">)</span>

<span class="n">al_fcc</span> <span class="o">=</span> <span class="n">df_dft_ref</span><span class="p">[</span><span class="n">df_dft_ref</span><span class="p">[</span><span class="s2">&quot;compound&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;Al_fcc&quot;</span><span class="p">]</span>
<span class="n">li</span> <span class="o">=</span> <span class="n">df_dft_ref</span><span class="p">[</span><span class="n">df_dft_ref</span><span class="p">[</span><span class="s2">&quot;compound&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Li_bcc&quot;</span><span class="p">,</span><span class="s2">&quot;Li_fcc&quot;</span><span class="p">])]</span>
<span class="n">df_mixed</span> <span class="o">=</span> <span class="n">df_dft_ref</span><span class="p">[</span><span class="n">df_dft_ref</span><span class="p">[</span><span class="s2">&quot;compound&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;LiAl_mp-1067&quot;</span><span class="p">,</span><span class="s2">&quot;LiAl3_mp-10890&quot;</span><span class="p">,</span><span class="s2">&quot;Li9Al4_mp-568404&quot;</span><span class="p">,</span><span class="s2">&quot;Li3Al2_mp-16506&quot;</span><span class="p">,</span><span class="s2">&quot;LiAl_mp-1079240&quot;</span><span class="p">])]</span>

<span class="n">li</span><span class="p">[</span><span class="s2">&quot;energy_per_atom&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">li</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">li</span><span class="p">[</span><span class="s2">&quot;number_of_atoms&quot;</span><span class="p">]</span>
<span class="c1"># li</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax_list</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">potentials_list</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">set_figwidth</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_figheight</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

<span class="n">color_palette</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;tab10&quot;</span><span class="p">,</span> <span class="n">n_colors</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">data_murn</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span>


<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">pot</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">potentials_list</span><span class="p">):</span>
    
    
    <span class="n">mask1</span> <span class="o">=</span> <span class="n">data_murn</span><span class="p">[</span><span class="s2">&quot;compound&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;Al&quot;</span>
    <span class="n">data1</span> <span class="o">=</span> <span class="n">data_murn</span><span class="p">[(</span><span class="n">data_murn</span><span class="o">.</span><span class="n">potential</span> <span class="o">==</span> <span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">mask1</span><span class="p">)]</span>
    
    <span class="n">mask2</span> <span class="o">=</span> <span class="n">data_murn</span><span class="p">[</span><span class="s2">&quot;compound&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;Li&quot;</span>
    <span class="n">data2</span> <span class="o">=</span> <span class="n">data_murn</span><span class="p">[(</span><span class="n">data_murn</span><span class="o">.</span><span class="n">potential</span> <span class="o">==</span> <span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">mask2</span><span class="p">)]</span>
    
    <span class="n">mask3</span> <span class="o">=</span> <span class="n">data_murn</span><span class="p">[</span><span class="s2">&quot;compound&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Al&quot;</span><span class="p">,</span><span class="s2">&quot;Li&quot;</span><span class="p">])</span>
    <span class="n">data3</span> <span class="o">=</span> <span class="n">data_murn</span><span class="p">[(</span><span class="n">data_murn</span><span class="o">.</span><span class="n">potential</span> <span class="o">==</span> <span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="o">~</span><span class="n">mask3</span><span class="p">)]</span>

    <span class="k">for</span> <span class="n">j</span><span class="p">,(</span><span class="n">_</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data1</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()):</span>
        <span class="n">murn_job</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;job_id&quot;</span><span class="p">])</span>
        <span class="n">murn_df</span> <span class="o">=</span> <span class="n">murn_job</span><span class="o">.</span><span class="n">output_to_pandas</span><span class="p">()</span>
        <span class="n">n_atoms</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;n_atoms&quot;</span><span class="p">]</span>

        <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">murn_df</span><span class="p">[</span><span class="s2">&quot;volume&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">n_atoms</span><span class="p">,</span> <span class="n">murn_df</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">n_atoms</span><span class="p">,</span><span class="s2">&quot;-&quot;</span><span class="p">,</span>
                            <span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                            <span class="n">label</span><span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">],</span> 
                            <span class="n">color</span><span class="o">=</span><span class="n">color_palette</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
        
        
        
        <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">data1</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;compound&quot;</span><span class="p">],</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
        <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span><span class="mi">16</span><span class="p">})</span>
        
    <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">al_fcc</span><span class="p">[</span><span class="s2">&quot;vol&quot;</span><span class="p">],</span><span class="n">al_fcc</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">al_fcc</span><span class="p">[</span><span class="s2">&quot;number_of_atoms&quot;</span><span class="p">],</span>
                            <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;DFT&quot;</span><span class="p">)</span>
        
    <span class="k">for</span> <span class="n">j</span><span class="p">,(</span><span class="n">_</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data2</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()):</span>
        <span class="n">murn_job</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;job_id&quot;</span><span class="p">])</span>
        <span class="n">murn_df</span> <span class="o">=</span> <span class="n">murn_job</span><span class="o">.</span><span class="n">output_to_pandas</span><span class="p">()</span>
        <span class="n">n_atoms</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;n_atoms&quot;</span><span class="p">]</span>
        
        <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">murn_df</span><span class="p">[</span><span class="s2">&quot;volume&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">n_atoms</span><span class="p">,</span> <span class="n">murn_df</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">n_atoms</span><span class="p">,</span><span class="s2">&quot;-&quot;</span><span class="p">,</span>
                            <span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                            <span class="n">label</span><span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">],</span> 
                            <span class="n">color</span><span class="o">=</span><span class="n">color_palette</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
        
        
        
        <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">data2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;compound&quot;</span><span class="p">],</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
        <span class="c1"># ax_list[i,2].legend(prop={&quot;size&quot;:16})</span>
        
    <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">li</span><span class="p">[</span><span class="s2">&quot;vol&quot;</span><span class="p">],</span><span class="n">li</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">li</span><span class="p">[</span><span class="s2">&quot;number_of_atoms&quot;</span><span class="p">],</span>
                            <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;DFT&quot;</span><span class="p">)</span>
        
    <span class="k">for</span> <span class="n">j</span><span class="p">,(</span><span class="n">_</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data3</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()):</span>
        <span class="n">murn_job</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;job_id&quot;</span><span class="p">])</span>
        <span class="n">murn_df</span> <span class="o">=</span> <span class="n">murn_job</span><span class="o">.</span><span class="n">output_to_pandas</span><span class="p">()</span>
        <span class="n">n_atoms</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;n_atoms&quot;</span><span class="p">]</span>
        
        <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">murn_df</span><span class="p">[</span><span class="s2">&quot;volume&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">n_atoms</span><span class="p">,</span> <span class="n">murn_df</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">n_atoms</span><span class="p">,</span><span class="s2">&quot;-&quot;</span><span class="p">,</span>
                            <span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                            <span class="n">label</span><span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">],</span> 
                            <span class="n">color</span><span class="o">=</span><span class="n">color_palette</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
        
        <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s1">&#39;_AlLi_mixed&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
        <span class="c1"># ax_list[i,1].legend(prop={&quot;size&quot;:16})</span>
        
    <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_mixed</span><span class="p">[</span><span class="s2">&quot;vol&quot;</span><span class="p">],</span><span class="n">df_mixed</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">df_mixed</span><span class="p">[</span><span class="s2">&quot;number_of_atoms&quot;</span><span class="p">],</span>
                            <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;DFT&quot;</span><span class="p">)</span>
        
        
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">ax_list</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span><span class="mi">16</span><span class="p">})</span>
    <span class="n">ax_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Volume per atom, $\mathrm{\AA^3}$&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">ax_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">potentials_list</span><span class="p">)):</span>
    <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Energy per atom, eV/atom&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    
    
    
<span class="c1"># ax.legend(prop={&quot;size&quot;:16})</span>
<span class="c1"># ax.set_ylabel(&quot;Energy per atom, eV/atom&quot;,fontsize=20)</span>
<span class="c1">#break</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/validation_LiAl_23_0.png" src="../_images/validation_LiAl_23_0.png" />
</div>
</div>
</section>
<section id="b-elastic-constants-and-phonons">
<h2>(b) Elastic constants and Phonons<a class="headerlink" href="#b-elastic-constants-and-phonons" title="Permalink to this headline">#</a></h2>
<p>Pyiron also has job modules to calculate elastic constants and thermal properties using the quasi-harmonic approximation given by the <code class="docutils literal notranslate"><span class="pre">phonopy</span></code> package.</p>
<p>As in the previous task, we again loop over the defined potentials and then over the given structures.</p>
<p>Calculating elastic constants and thermal properties is considerably more expensive than calculating EV curves. Hence, it is useful to only calculate these properties for a subset of most important structures</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">list_of_phases</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Al_fcc&quot;</span><span class="p">,</span><span class="s2">&quot;Li_bcc&quot;</span><span class="p">,</span><span class="s2">&quot;Li2Al2_cubic&quot;</span><span class="p">,</span><span class="s2">&quot;LiAl3_cubic&quot;</span><span class="p">]</span>

<span class="n">subset_murn</span> <span class="o">=</span> <span class="n">data_murn</span><span class="p">[</span><span class="n">data_murn</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">list_of_phases</span><span class="p">)]</span>
<span class="n">subset_murn</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>job_id</th>
      <th>potential</th>
      <th>ase_atoms</th>
      <th>compound</th>
      <th>crystal_structure</th>
      <th>a</th>
      <th>eq_vol</th>
      <th>eq_bm</th>
      <th>eq_energy</th>
      <th>n_atoms</th>
      <th>phase</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1140</td>
      <td>LiAl_eam</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>fcc</td>
      <td>4.039967</td>
      <td>16.495612</td>
      <td>85.876912</td>
      <td>-3.483097</td>
      <td>1</td>
      <td>Al_fcc</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1166</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>bcc</td>
      <td>4.195477</td>
      <td>20.114514</td>
      <td>13.690609</td>
      <td>-1.757011</td>
      <td>1</td>
      <td>Li_bcc</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1192</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [4.359978178265943, 2.5172345748814795, 1.7799536377360747], index=0), Atom('Li', [6.53996726740165, 3.775851862320358, 2.669930456604317], index=1), Atom('Al', [-3.964456982410852e-12...</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>6.165940</td>
      <td>58.604895</td>
      <td>100.347240</td>
      <td>-11.074362</td>
      <td>4</td>
      <td>Li2Al2_cubic</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1205</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Al', [1.9825515172760235, 1.9825515172760237, 2.427925369776811e-16], index=1), Atom('Al', [1.9825515172760235, 1.2139626848884054e-16, 1.9825515172760...</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>5.607502</td>
      <td>62.227580</td>
      <td>51.472656</td>
      <td>-12.774590</td>
      <td>4</td>
      <td>LiAl3_cubic</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1257</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>fcc</td>
      <td>4.025259</td>
      <td>16.355737</td>
      <td>76.669339</td>
      <td>-3.484016</td>
      <td>1</td>
      <td>Al_fcc</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1283</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>bcc</td>
      <td>4.211118</td>
      <td>20.286595</td>
      <td>8.517306</td>
      <td>-1.755918</td>
      <td>1</td>
      <td>Li_bcc</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1309</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [4.509081801264686, 2.603319591757272, 1.8408249369278522], index=0), Atom('Li', [6.763622701898693, 3.90497938763465, 2.7612374053913604], index=1), Atom('Al', [-3.844724064520768e-12...</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>6.376805</td>
      <td>64.816143</td>
      <td>57.934650</td>
      <td>-11.212634</td>
      <td>4</td>
      <td>Li2Al2_cubic</td>
    </tr>
    <tr>
      <th>14</th>
      <td>1322</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Al', [2.0154153406879987, 2.0154153406879987, 2.46817194592603e-16], index=1), Atom('Al', [2.0154153406879987, 1.234085972963015e-16, 2.015415340687998...</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>5.700455</td>
      <td>65.403086</td>
      <td>59.308440</td>
      <td>-12.574696</td>
      <td>4</td>
      <td>LiAl3_cubic</td>
    </tr>
    <tr>
      <th>18</th>
      <td>1393</td>
      <td>LiAl_yace</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>fcc</td>
      <td>4.044553</td>
      <td>16.541594</td>
      <td>87.130427</td>
      <td>-3.478909</td>
      <td>1</td>
      <td>Al_fcc</td>
    </tr>
    <tr>
      <th>20</th>
      <td>1419</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>bcc</td>
      <td>4.216389</td>
      <td>20.403222</td>
      <td>15.823747</td>
      <td>-1.756104</td>
      <td>1</td>
      <td>Li_bcc</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1451</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [4.5021943685456485, 2.599343130623782, 1.8380131542949232], index=0), Atom('Li', [6.753291552821257, 3.8990146959337566, 2.7570197314419675], index=1), Atom('Al', [-3.838851410290508e...</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>6.367064</td>
      <td>64.521799</td>
      <td>46.107162</td>
      <td>-11.185880</td>
      <td>4</td>
      <td>Li2Al2_cubic</td>
    </tr>
    <tr>
      <th>23</th>
      <td>1464</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Al', [2.0106543994993293, 2.0106543994993293, 2.462341474538397e-16], index=1), Atom('Al', [2.0106543994993293, 1.2311707372691985e-16, 2.0106543994993...</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>5.686989</td>
      <td>65.028366</td>
      <td>66.254925</td>
      <td>-12.569153</td>
      <td>4</td>
      <td>LiAl3_cubic</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">pot</span> <span class="ow">in</span> <span class="n">potentials_list</span><span class="p">:</span>
    <span class="n">group_name</span> <span class="o">=</span> <span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">)</span>
    <span class="n">pr_pot</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span><span class="n">group_name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">group_name</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">subset_murn</span><span class="p">[</span><span class="n">subset_murn</span><span class="o">.</span><span class="n">potential</span><span class="o">==</span><span class="n">group_name</span><span class="p">]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;job_id&quot;</span><span class="p">]</span>
        
        <span class="n">job_ref</span> <span class="o">=</span> <span class="n">pr_pot</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span><span class="n">pr_pot</span><span class="o">.</span><span class="n">job_type</span><span class="o">.</span><span class="n">Lammps</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;ref_job_</span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">compound</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">crystal_structure</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">pr_pot</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>
        <span class="n">job_ref</span><span class="o">.</span><span class="n">structure</span> <span class="o">=</span> <span class="n">ref</span><span class="o">.</span><span class="n">structure</span>
        <span class="n">job_ref</span><span class="o">.</span><span class="n">potential</span> <span class="o">=</span> <span class="n">pot</span>
        <span class="n">job_ref</span><span class="o">.</span><span class="n">calc_minimize</span><span class="p">()</span>
        
        <span class="n">elastic_job</span> <span class="o">=</span> <span class="n">job_ref</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span><span class="n">pr_pot</span><span class="o">.</span><span class="n">job_type</span><span class="o">.</span><span class="n">ElasticMatrixJob</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;elastic_job_</span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">compound</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">crystal_structure</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">elastic_job</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s2">&quot;eps_range&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.05</span>
        <span class="n">elastic_job</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
        
        
        <span class="n">phonopy_job</span> <span class="o">=</span> <span class="n">job_ref</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span><span class="n">pr_pot</span><span class="o">.</span><span class="n">job_type</span><span class="o">.</span><span class="n">PhonopyJob</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;phonopy_job_</span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">compound</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">crystal_structure</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">job_ref</span><span class="o">.</span><span class="n">calc_static</span><span class="p">()</span>
        <span class="n">phonopy_job</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LiAl_eam
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:17:48,273 - pyiron_log - WARNING - The job elastic_job_Al_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:48,454 - pyiron_log - WARNING - The job phonopy_job_Al_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:48,754 - pyiron_log - WARNING - The job elastic_job_Li_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:48,922 - pyiron_log - WARNING - The job phonopy_job_Li_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:49,223 - pyiron_log - WARNING - The job elastic_job_Li2Al2_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:49,398 - pyiron_log - WARNING - The job phonopy_job_Li2Al2_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:49,706 - pyiron_log - WARNING - The job elastic_job_LiAl3_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:49,875 - pyiron_log - WARNING - The job phonopy_job_LiAl3_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RuNNer-AlLi
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:17:50,177 - pyiron_log - WARNING - The job elastic_job_Al_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:50,342 - pyiron_log - WARNING - The job phonopy_job_Al_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:50,639 - pyiron_log - WARNING - The job elastic_job_Li_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:50,802 - pyiron_log - WARNING - The job phonopy_job_Li_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:51,099 - pyiron_log - WARNING - The job elastic_job_Li2Al2_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:51,271 - pyiron_log - WARNING - The job phonopy_job_Li2Al2_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:51,581 - pyiron_log - WARNING - The job elastic_job_LiAl3_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:51,752 - pyiron_log - WARNING - The job phonopy_job_LiAl3_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LiAl_yace
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-06-08 14:17:52,054 - pyiron_log - WARNING - The job elastic_job_Al_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:52,218 - pyiron_log - WARNING - The job phonopy_job_Al_fcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:52,515 - pyiron_log - WARNING - The job elastic_job_Li_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:52,680 - pyiron_log - WARNING - The job phonopy_job_Li_bcc is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:52,983 - pyiron_log - WARNING - The job elastic_job_Li2Al2_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:53,159 - pyiron_log - WARNING - The job phonopy_job_Li2Al2_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:53,468 - pyiron_log - WARNING - The job elastic_job_LiAl3_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
2022-06-08 14:17:53,638 - pyiron_log - WARNING - The job phonopy_job_LiAl3_cubic is being loaded instead of running. To re-run use the argument &#39;delete_existing_job=True in create_job&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">filter_elastic</span><span class="p">(</span><span class="n">job_table</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">job_table</span><span class="o">.</span><span class="n">hamilton</span> <span class="o">==</span> <span class="s2">&quot;ElasticMatrixJob&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">job_table</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;finished&quot;</span><span class="p">)</span>

<span class="c1"># Get corresponding elastic constants</span>
<span class="k">def</span> <span class="nf">get_c11</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job_path</span><span class="p">[</span><span class="s2">&quot;output/elasticmatrix&quot;</span><span class="p">][</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">get_c12</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job_path</span><span class="p">[</span><span class="s2">&quot;output/elasticmatrix&quot;</span><span class="p">][</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">get_c44</span><span class="p">(</span><span class="n">job_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job_path</span><span class="p">[</span><span class="s2">&quot;output/elasticmatrix&quot;</span><span class="p">][</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">table</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="s2">&quot;table_elastic&quot;</span><span class="p">,</span> <span class="n">delete_existing_job</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">table</span><span class="o">.</span><span class="n">db_filter_function</span> <span class="o">=</span> <span class="n">filter_elastic</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;potential&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_potential</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;C11&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_c11</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;C12&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_c12</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;C44&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_c44</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;compound&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_compound</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;crystal_structure&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_crystal_structure</span>

<span class="n">table</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="n">data_elastic</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
<span class="n">data_elastic</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_elastic</span><span class="o">.</span><span class="n">compound</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">data_elastic</span><span class="o">.</span><span class="n">crystal_structure</span>
<span class="n">data_elastic</span> <span class="o">=</span> <span class="n">data_elastic</span><span class="p">[</span><span class="n">data_elastic</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">list_of_phases</span><span class="p">)]</span>
<span class="n">data_elastic</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The job table_elastic was saved and received the ID: 1780
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "89746b00b5e44227af8f4be90b4a7684", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "4d510fbf4808477e9ce8421f89be7324", "version_major": 2, "version_minor": 0}
</script><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>job_id</th>
      <th>potential</th>
      <th>C11</th>
      <th>C12</th>
      <th>C44</th>
      <th>compound</th>
      <th>crystal_structure</th>
      <th>phase</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1524</td>
      <td>LiAl_eam</td>
      <td>120.339279</td>
      <td>66.483631</td>
      <td>45.515458</td>
      <td>Al</td>
      <td>fcc</td>
      <td>Al_fcc</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1540</td>
      <td>LiAl_eam</td>
      <td>16.740018</td>
      <td>11.018163</td>
      <td>12.688217</td>
      <td>Li</td>
      <td>bcc</td>
      <td>Li_bcc</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1556</td>
      <td>LiAl_eam</td>
      <td>179.464635</td>
      <td>54.231219</td>
      <td>47.889040</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>Li2Al2_cubic</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1573</td>
      <td>LiAl_eam</td>
      <td>65.443987</td>
      <td>47.601166</td>
      <td>28.002138</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>LiAl3_cubic</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1590</td>
      <td>RuNNer-AlLi</td>
      <td>119.613688</td>
      <td>59.261331</td>
      <td>57.671025</td>
      <td>Al</td>
      <td>fcc</td>
      <td>Al_fcc</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1606</td>
      <td>RuNNer-AlLi</td>
      <td>13.974565</td>
      <td>4.476591</td>
      <td>13.293350</td>
      <td>Li</td>
      <td>bcc</td>
      <td>Li_bcc</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1622</td>
      <td>RuNNer-AlLi</td>
      <td>124.404880</td>
      <td>20.665379</td>
      <td>42.673693</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>Li2Al2_cubic</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1639</td>
      <td>RuNNer-AlLi</td>
      <td>88.575923</td>
      <td>50.190830</td>
      <td>48.202184</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>LiAl3_cubic</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1685</td>
      <td>LiAl_yace</td>
      <td>133.807535</td>
      <td>62.693651</td>
      <td>40.423203</td>
      <td>Al</td>
      <td>fcc</td>
      <td>Al_fcc</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1701</td>
      <td>LiAl_yace</td>
      <td>18.307762</td>
      <td>13.775557</td>
      <td>12.106574</td>
      <td>Li</td>
      <td>bcc</td>
      <td>Li_bcc</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1717</td>
      <td>LiAl_yace</td>
      <td>114.275413</td>
      <td>13.925574</td>
      <td>42.537995</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>Li2Al2_cubic</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1734</td>
      <td>LiAl_yace</td>
      <td>112.037951</td>
      <td>42.770574</td>
      <td>45.206508</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>LiAl3_cubic</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax_list</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">data_elastic</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">unique</span><span class="p">()),</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">set_figwidth</span><span class="p">(</span><span class="mi">26</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_figheight</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>

<span class="n">color_palette</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;tab10&quot;</span><span class="p">,</span> <span class="n">n_colors</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">data_elastic</span><span class="o">.</span><span class="n">potential</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span>

<span class="n">pot</span> <span class="o">=</span> <span class="s2">&quot;LiAl_yace&quot;</span>


<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">phase</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data_elastic</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">unique</span><span class="p">()):</span>
    
    <span class="n">ax</span> <span class="o">=</span> <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="c1"># data = data_elastic[(data_elastic.phase == phase) &amp; (data_elastic[&quot;potential&quot;]==&quot;pot&quot;)]</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">data_elastic</span><span class="p">[(</span><span class="n">data_elastic</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">)]</span>
    
    <span class="c1"># DFT data is read from csv files</span>
    <span class="n">dft_ref</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">phase</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;_dos.csv&quot;</span><span class="p">)</span>
    
    
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">pot</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">potentials_list</span><span class="p">):</span>
        
        <span class="n">phonopy_job</span> <span class="o">=</span> <span class="n">pr</span><span class="p">[</span><span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">)</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;/phonopy_job_</span><span class="si">{</span><span class="n">phase</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
    
        <span class="n">thermo</span> <span class="o">=</span> <span class="n">phonopy_job</span><span class="o">.</span><span class="n">get_thermal_properties</span><span class="p">(</span><span class="n">t_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">t_max</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
        
        
        
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">phonopy_job</span><span class="p">[</span><span class="s2">&quot;output/dos_energies&quot;</span><span class="p">],</span> <span class="n">phonopy_job</span><span class="p">[</span><span class="s2">&quot;output/dos_total&quot;</span><span class="p">],</span> 
                <span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="n">color_palette</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> 
                <span class="n">label</span><span class="o">=</span><span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">))</span>
        
       
        
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Frequency, THz&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
        
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dft_ref</span><span class="p">[</span><span class="s2">&quot;dos_energy&quot;</span><span class="p">],</span><span class="n">dft_ref</span><span class="p">[</span><span class="s2">&quot;dos_total&quot;</span><span class="p">],</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;DFT&quot;</span><span class="p">)</span>
        
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">phase</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">ax_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;DOS&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>

<span class="n">ax_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span><span class="mi">16</span><span class="p">})</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/validation_LiAl_29_0.png" src="../_images/validation_LiAl_29_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># fig, ax_list = plt.subplots(ncols=len(data_elastic.phase.unique()), nrows=len(potentials_list), sharey=&quot;row&quot;)</span>

<span class="c1"># fig.set_figwidth(25)</span>
<span class="c1"># fig.set_figheight(12)</span>

<span class="c1"># color_palette = sns.color_palette(&quot;tab10&quot;, n_colors=len(data_elastic.potential.unique()))</span>


<span class="c1"># for i, phase in enumerate(data_elastic.phase.unique()):</span>
    
    
<span class="c1">#     data = data_elastic[data_elastic.phase == phase]</span>
    
    
    
<span class="c1">#     for j, pot in enumerate(potentials_list):</span>
<span class="c1">#         ax = ax_list[j][i]</span>
<span class="c1">#         phonopy_job = pr[get_clean_project_name(pot) + f&quot;/phonopy_job_{phase}&quot;]</span>
    
<span class="c1">#         phonopy_job.plot_band_structure(axis=ax)</span>
<span class="c1">#         ax.set_ylabel(&quot;&quot;)</span>
<span class="c1">#         ax.set_title(get_clean_project_name(pot)+&quot;__&quot;+phase,fontsize=18)</span>
<span class="c1">#         ax_list[j][0].set_ylabel(&quot;DOS&quot;)</span>
<span class="c1">#     # ax_list[0][i].set_title(f&quot;{phase}&quot;)</span>
<span class="c1"># fig.subplots_adjust(wspace=0.1, hspace=0.4);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax_list</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">data_elastic</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">unique</span><span class="p">()),</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">set_figwidth</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_figheight</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="n">color_palette</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;tab10&quot;</span><span class="p">,</span> <span class="n">n_colors</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">data_elastic</span><span class="o">.</span><span class="n">potential</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span>


<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">phase</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data_elastic</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">unique</span><span class="p">()):</span>
    
    <span class="n">ax</span> <span class="o">=</span> <span class="n">ax_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">data_elastic</span><span class="p">[</span><span class="n">data_elastic</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">]</span>
    
    <span class="n">n_atom</span> <span class="o">=</span> <span class="n">data_murn</span><span class="p">[</span><span class="n">data_murn</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">]</span><span class="o">==</span><span class="n">phase</span><span class="p">][</span><span class="s2">&quot;n_atoms&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    
    
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">pot</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">potentials_list</span><span class="p">):</span>
        
        <span class="n">phonopy_job</span> <span class="o">=</span> <span class="n">pr</span><span class="p">[</span><span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">)</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;/phonopy_job_</span><span class="si">{</span><span class="n">phase</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
    
        <span class="n">thermo</span> <span class="o">=</span> <span class="n">phonopy_job</span><span class="o">.</span><span class="n">get_thermal_properties</span><span class="p">(</span><span class="n">t_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">t_max</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">thermo</span><span class="o">.</span><span class="n">temperatures</span><span class="p">,</span> <span class="n">thermo</span><span class="o">.</span><span class="n">cv</span><span class="o">/</span><span class="n">n_atom</span><span class="p">,</span>
                <span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                <span class="n">label</span><span class="o">=</span><span class="n">get_clean_project_name</span><span class="p">(</span><span class="n">pot</span><span class="p">),</span> 
                <span class="n">color</span><span class="o">=</span><span class="n">color_palette</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Temperatures, K&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">phase</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">ax_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;C$_v$&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>

<span class="n">ax_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span><span class="mi">16</span><span class="p">})</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/validation_LiAl_31_0.png" src="../_images/validation_LiAl_31_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># phonopy_job.plot_band_structure()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="c-convex-hull">
<h2>(c) Convex hull<a class="headerlink" href="#c-convex-hull" title="Permalink to this headline">#</a></h2>
<p>To assess the stability of the binary phases, we plot a convex hull for the considered phases.</p>
<p>For this task we compute the formation energies of the mixed phases relative to ground state energies of equilibrium unary phases.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="c1"># pot = &quot;LiAl_yace&quot;</span>

<span class="c1"># data_convexhull = data_murn[data_murn[&quot;potential&quot;]==pot]</span>
<span class="n">data_convexhull</span> <span class="o">=</span> <span class="n">data_murn</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">data_convexhull</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>job_id</th>
      <th>potential</th>
      <th>ase_atoms</th>
      <th>compound</th>
      <th>crystal_structure</th>
      <th>a</th>
      <th>eq_vol</th>
      <th>eq_bm</th>
      <th>eq_energy</th>
      <th>n_atoms</th>
      <th>phase</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1140</td>
      <td>LiAl_eam</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>fcc</td>
      <td>4.039967</td>
      <td>16.495612</td>
      <td>85.876912</td>
      <td>-3.483097</td>
      <td>1</td>
      <td>Al_fcc</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1153</td>
      <td>LiAl_eam</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>bcc</td>
      <td>3.898853</td>
      <td>16.147864</td>
      <td>48.620841</td>
      <td>-3.415312</td>
      <td>1</td>
      <td>Al_bcc</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">Collections.counter</span></code> we construct a composition dictionary for all the phases and from that dictionary, we can extract the relative concentrations of Al and Li in each structure</p>
<p>Obtain the equilibrium energies for unary Al and Li phases from the Dataframe</p>
<p>Calculate the relative formation energies by subtracting the total energies of the mixed phases with the energies of eq Al and Li</p>
<div class="math notranslate nohighlight">
\[E^{A_xB_y}_{f} = E_{A_xB_y} - (x E_A + yE_B)\]</div>
<p>Similarly calculate the formation energies from DFT ref data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_e_form</span><span class="p">(</span><span class="n">data_convexhull</span><span class="p">):</span>
    <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;comp_dict&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;ase_atoms&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">at</span><span class="p">:</span> <span class="n">Counter</span><span class="p">(</span><span class="n">at</span><span class="o">.</span><span class="n">get_chemical_symbols</span><span class="p">()))</span>
    <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;n_Al&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;comp_dict&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Al&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;n_Li&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;comp_dict&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Li&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

    <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;cAl&quot;</span><span class="p">]</span><span class="o">=</span> <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;n_Al&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;n_atoms&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;cLi&quot;</span><span class="p">]</span><span class="o">=</span> <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;n_Li&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;n_atoms&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span>

    <span class="n">E_f_Al</span> <span class="o">=</span> <span class="n">data_convexhull</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;n_Li&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;eq_energy&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="n">E_f_Li</span> <span class="o">=</span> <span class="n">data_convexhull</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;n_Al&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;eq_energy&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>

    <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;E_form&quot;</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;eq_energy&quot;</span><span class="p">])</span><span class="o">-</span><span class="p">(</span><span class="n">data_convexhull</span><span class="p">[[</span><span class="s2">&quot;n_Al&quot;</span><span class="p">,</span><span class="s2">&quot;n_Li&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span> <span class="o">*</span> <span class="p">[</span><span class="n">E_f_Al</span><span class="p">,</span> <span class="n">E_f_Li</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;E_form_per_atom&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;E_form&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">data_convexhull</span><span class="p">[</span><span class="s2">&quot;n_atoms&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1e3</span>

    <span class="n">data_convexhull</span> <span class="o">=</span> <span class="n">data_convexhull</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;cLi&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data_convexhull</span>

<span class="n">df_eam</span> <span class="o">=</span> <span class="n">get_e_form</span><span class="p">(</span><span class="n">data_murn</span><span class="p">[</span><span class="n">data_murn</span><span class="p">[</span><span class="s2">&quot;potential&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;LiAl_eam&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
<span class="n">df_nnp</span> <span class="o">=</span> <span class="n">get_e_form</span><span class="p">(</span><span class="n">data_murn</span><span class="p">[</span><span class="n">data_murn</span><span class="p">[</span><span class="s2">&quot;potential&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;RuNNer-AlLi&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
<span class="n">df_ace</span> <span class="o">=</span> <span class="n">get_e_form</span><span class="p">(</span><span class="n">data_murn</span><span class="p">[</span><span class="n">data_murn</span><span class="p">[</span><span class="s2">&quot;potential&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;LiAl_yace&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>

<span class="n">data_convexhull</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_eam</span><span class="p">,</span><span class="n">df_nnp</span><span class="p">,</span><span class="n">df_ace</span><span class="p">])</span>
<span class="n">data_convexhull</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>job_id</th>
      <th>potential</th>
      <th>ase_atoms</th>
      <th>compound</th>
      <th>crystal_structure</th>
      <th>a</th>
      <th>eq_vol</th>
      <th>eq_bm</th>
      <th>eq_energy</th>
      <th>n_atoms</th>
      <th>phase</th>
      <th>comp_dict</th>
      <th>n_Al</th>
      <th>n_Li</th>
      <th>cAl</th>
      <th>cLi</th>
      <th>E_form</th>
      <th>E_form_per_atom</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1140</td>
      <td>LiAl_eam</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>fcc</td>
      <td>4.039967</td>
      <td>16.495612</td>
      <td>85.876912</td>
      <td>-3.483097</td>
      <td>1</td>
      <td>Al_fcc</td>
      <td>{'Al': 1}</td>
      <td>1</td>
      <td>0</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1153</td>
      <td>LiAl_eam</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>bcc</td>
      <td>3.898853</td>
      <td>16.147864</td>
      <td>48.620841</td>
      <td>-3.415312</td>
      <td>1</td>
      <td>Al_bcc</td>
      <td>{'Al': 1}</td>
      <td>1</td>
      <td>0</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.067785</td>
      <td>67.785186</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1205</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Al', [1.9825515172760235, 1.9825515172760237, 2.427925369776811e-16], index=1), Atom('Al', [1.9825515172760235, 1.2139626848884054e-16, 1.9825515172760...</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>5.607502</td>
      <td>62.227580</td>
      <td>51.472656</td>
      <td>-12.774590</td>
      <td>4</td>
      <td>LiAl3_cubic</td>
      <td>{'Li': 1, 'Al': 3}</td>
      <td>3</td>
      <td>1</td>
      <td>75.000000</td>
      <td>25.000000</td>
      <td>-0.567192</td>
      <td>-141.797976</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1192</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [4.359978178265943, 2.5172345748814795, 1.7799536377360747], index=0), Atom('Li', [6.53996726740165, 3.775851862320358, 2.669930456604317], index=1), Atom('Al', [-3.964456982410852e-12...</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>6.165940</td>
      <td>58.604895</td>
      <td>100.347240</td>
      <td>-11.074362</td>
      <td>4</td>
      <td>Li2Al2_cubic</td>
      <td>{'Li': 2, 'Al': 2}</td>
      <td>2</td>
      <td>2</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>-0.591954</td>
      <td>-147.988453</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1244</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [2.142967147985671, 1.2372426587287435, 7.662120717536293], index=0), Atom('Li', [-8.783761113500244e-10, 2.4744853189563414, 0.5913679335098909], index=1), Atom('Li', [-8.783761113500...</td>
      <td>Li4Al4</td>
      <td>cubic</td>
      <td>6.061226</td>
      <td>131.389799</td>
      <td>71.221355</td>
      <td>-20.506570</td>
      <td>8</td>
      <td>Li4Al4_cubic</td>
      <td>{'Li': 4, 'Al': 4}</td>
      <td>4</td>
      <td>4</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>0.458247</td>
      <td>57.280860</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1231</td>
      <td>LiAl_eam</td>
      <td>(Atom('Al', [2.1548001975659234, 1.244075358781918, 1.861784175000869], index=0), Atom('Al', [-2.154798282819334, 3.732223313213554, 2.6646760238080542], index=1), Atom('Li', [8.560563403365654e-0...</td>
      <td>Li3Al2</td>
      <td>trigonal</td>
      <td>6.094693</td>
      <td>72.810229</td>
      <td>69.231669</td>
      <td>-12.413856</td>
      <td>5</td>
      <td>Li3Al2_trigonal</td>
      <td>{'Al': 2, 'Li': 3}</td>
      <td>2</td>
      <td>3</td>
      <td>40.000000</td>
      <td>60.000000</td>
      <td>-0.173341</td>
      <td>-34.668107</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1218</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [4.9874611628416465, 1.0099045365192156, 0.8188840806477526], index=0), Atom('Li', [3.1237816780987666, 1.455730745331952, 2.673723152073369], index=1), Atom('Li', [-3.4421956688209843...</td>
      <td>Li9Al4</td>
      <td>monoclinic</td>
      <td>13.023701</td>
      <td>190.504374</td>
      <td>53.125276</td>
      <td>-28.970054</td>
      <td>13</td>
      <td>Li9Al4_monoclinic</td>
      <td>{'Li': 9, 'Al': 4}</td>
      <td>4</td>
      <td>9</td>
      <td>30.769231</td>
      <td>69.230769</td>
      <td>0.785300</td>
      <td>60.407664</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1166</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>bcc</td>
      <td>4.195477</td>
      <td>20.114514</td>
      <td>13.690609</td>
      <td>-1.757011</td>
      <td>1</td>
      <td>Li_bcc</td>
      <td>{'Li': 1}</td>
      <td>0</td>
      <td>1</td>
      <td>0.000000</td>
      <td>100.000000</td>
      <td>0.001096</td>
      <td>1.096047</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1179</td>
      <td>LiAl_eam</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>fcc</td>
      <td>4.253841</td>
      <td>19.241330</td>
      <td>13.985972</td>
      <td>-1.758107</td>
      <td>1</td>
      <td>Li_fcc</td>
      <td>{'Li': 1}</td>
      <td>0</td>
      <td>1</td>
      <td>0.000000</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1257</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>fcc</td>
      <td>4.025259</td>
      <td>16.355737</td>
      <td>76.669339</td>
      <td>-3.484016</td>
      <td>1</td>
      <td>Al_fcc</td>
      <td>{'Al': 1}</td>
      <td>1</td>
      <td>0</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1270</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>bcc</td>
      <td>3.958447</td>
      <td>16.870137</td>
      <td>51.052272</td>
      <td>-3.432183</td>
      <td>1</td>
      <td>Al_bcc</td>
      <td>{'Al': 1}</td>
      <td>1</td>
      <td>0</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.051832</td>
      <td>51.832389</td>
    </tr>
    <tr>
      <th>14</th>
      <td>1322</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Al', [2.0154153406879987, 2.0154153406879987, 2.46817194592603e-16], index=1), Atom('Al', [2.0154153406879987, 1.234085972963015e-16, 2.015415340687998...</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>5.700455</td>
      <td>65.403086</td>
      <td>59.308440</td>
      <td>-12.574696</td>
      <td>4</td>
      <td>LiAl3_cubic</td>
      <td>{'Li': 1, 'Al': 3}</td>
      <td>3</td>
      <td>1</td>
      <td>75.000000</td>
      <td>25.000000</td>
      <td>-0.353389</td>
      <td>-88.347230</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1309</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [4.509081801264686, 2.603319591757272, 1.8408249369278522], index=0), Atom('Li', [6.763622701898693, 3.90497938763465, 2.7612374053913604], index=1), Atom('Al', [-3.844724064520768e-12...</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>6.376805</td>
      <td>64.816143</td>
      <td>57.934650</td>
      <td>-11.212634</td>
      <td>4</td>
      <td>Li2Al2_cubic</td>
      <td>{'Li': 2, 'Al': 2}</td>
      <td>2</td>
      <td>2</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>-0.706083</td>
      <td>-176.520795</td>
    </tr>
    <tr>
      <th>17</th>
      <td>1361</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [2.220260976080854, 1.2818682724036983, 7.872085429446316], index=0), Atom('Li', [1.722758777253687e-10, 2.5637365444716322, 0.6790950189344616], index=1), Atom('Li', [1.72275877725368...</td>
      <td>Li4Al4</td>
      <td>cubic</td>
      <td>6.279846</td>
      <td>146.014891</td>
      <td>37.664442</td>
      <td>-21.680919</td>
      <td>8</td>
      <td>Li4Al4_cubic</td>
      <td>{'Li': 4, 'Al': 4}</td>
      <td>4</td>
      <td>4</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>-0.667816</td>
      <td>-83.477017</td>
    </tr>
    <tr>
      <th>16</th>
      <td>1348</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Al', [2.2338755345732753, 1.289729472183878, 1.9126243306628208], index=0), Atom('Al', [-2.233873547699001, 3.869185551846968, 2.7799443936883206], index=1), Atom('Li', [9.007133262260959e-...</td>
      <td>Li3Al2</td>
      <td>trigonal</td>
      <td>6.318351</td>
      <td>81.143544</td>
      <td>44.574696</td>
      <td>-13.185198</td>
      <td>5</td>
      <td>Li3Al2_trigonal</td>
      <td>{'Al': 2, 'Li': 3}</td>
      <td>2</td>
      <td>3</td>
      <td>40.000000</td>
      <td>60.000000</td>
      <td>-0.909387</td>
      <td>-181.877324</td>
    </tr>
    <tr>
      <th>15</th>
      <td>1335</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [5.206051477294367, 1.0619663179427192, 0.8311820920214751], index=0), Atom('Li', [3.28638171437237, 1.5211864250363467, 2.7226207058417775], index=1), Atom('Li', [-3.6198784902055765,...</td>
      <td>Li9Al4</td>
      <td>monoclinic</td>
      <td>13.640614</td>
      <td>218.932018</td>
      <td>33.874957</td>
      <td>-31.820765</td>
      <td>13</td>
      <td>Li9Al4_monoclinic</td>
      <td>{'Li': 9, 'Al': 4}</td>
      <td>4</td>
      <td>9</td>
      <td>30.769231</td>
      <td>69.230769</td>
      <td>-1.961363</td>
      <td>-150.874092</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1283</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>bcc</td>
      <td>4.211118</td>
      <td>20.286595</td>
      <td>8.517306</td>
      <td>-1.755918</td>
      <td>1</td>
      <td>Li_bcc</td>
      <td>{'Li': 1}</td>
      <td>0</td>
      <td>1</td>
      <td>0.000000</td>
      <td>100.000000</td>
      <td>0.013342</td>
      <td>13.341610</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1296</td>
      <td>RuNNer-AlLi</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>fcc</td>
      <td>3.967043</td>
      <td>15.678901</td>
      <td>147.215464</td>
      <td>-1.769260</td>
      <td>1</td>
      <td>Li_fcc</td>
      <td>{'Li': 1}</td>
      <td>0</td>
      <td>1</td>
      <td>0.000000</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>18</th>
      <td>1393</td>
      <td>LiAl_yace</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>fcc</td>
      <td>4.044553</td>
      <td>16.541594</td>
      <td>87.130427</td>
      <td>-3.478909</td>
      <td>1</td>
      <td>Al_fcc</td>
      <td>{'Al': 1}</td>
      <td>1</td>
      <td>0</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>19</th>
      <td>1406</td>
      <td>LiAl_yace</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0))</td>
      <td>Al</td>
      <td>bcc</td>
      <td>3.953036</td>
      <td>16.811334</td>
      <td>72.667242</td>
      <td>-3.388831</td>
      <td>1</td>
      <td>Al_bcc</td>
      <td>{'Al': 1}</td>
      <td>1</td>
      <td>0</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.090078</td>
      <td>90.077889</td>
    </tr>
    <tr>
      <th>23</th>
      <td>1464</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Al', [2.0106543994993293, 2.0106543994993293, 2.462341474538397e-16], index=1), Atom('Al', [2.0106543994993293, 1.2311707372691985e-16, 2.0106543994993...</td>
      <td>LiAl3</td>
      <td>cubic</td>
      <td>5.686989</td>
      <td>65.028366</td>
      <td>66.254925</td>
      <td>-12.569153</td>
      <td>4</td>
      <td>LiAl3_cubic</td>
      <td>{'Li': 1, 'Al': 3}</td>
      <td>3</td>
      <td>1</td>
      <td>75.000000</td>
      <td>25.000000</td>
      <td>-0.376321</td>
      <td>-94.080320</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1451</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [4.5021943685456485, 2.599343130623782, 1.8380131542949232], index=0), Atom('Li', [6.753291552821257, 3.8990146959337566, 2.7570197314419675], index=1), Atom('Al', [-3.838851410290508e...</td>
      <td>Li2Al2</td>
      <td>cubic</td>
      <td>6.367064</td>
      <td>64.521799</td>
      <td>46.107162</td>
      <td>-11.185880</td>
      <td>4</td>
      <td>Li2Al2_cubic</td>
      <td>{'Li': 2, 'Al': 2}</td>
      <td>2</td>
      <td>2</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>-0.715855</td>
      <td>-178.963696</td>
    </tr>
    <tr>
      <th>26</th>
      <td>1506</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [2.2269869888586107, 1.285751535686306, 7.864026721150146], index=0), Atom('Li', [-1.5554058443124377e-09, 2.571503074062492, 0.7130584901440213], index=1), Atom('Li', [-1.555405844312...</td>
      <td>Li4Al4</td>
      <td>cubic</td>
      <td>6.298870</td>
      <td>147.356944</td>
      <td>46.701117</td>
      <td>-21.607231</td>
      <td>8</td>
      <td>Li4Al4_cubic</td>
      <td>{'Li': 4, 'Al': 4}</td>
      <td>4</td>
      <td>4</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>-0.667180</td>
      <td>-83.397512</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1493</td>
      <td>LiAl_yace</td>
      <td>(Atom('Al', [2.2270976540671734, 1.2858164055924044, 1.9025646270076813], index=0), Atom('Al', [-2.227095628822777, 3.8574462424884515, 2.7757665665986657], index=1), Atom('Li', [8.407589514518869...</td>
      <td>Li3Al2</td>
      <td>trigonal</td>
      <td>6.299181</td>
      <td>80.375104</td>
      <td>39.643133</td>
      <td>-13.138303</td>
      <td>5</td>
      <td>Li3Al2_trigonal</td>
      <td>{'Al': 2, 'Li': 3}</td>
      <td>2</td>
      <td>3</td>
      <td>40.000000</td>
      <td>60.000000</td>
      <td>-0.912174</td>
      <td>-182.434806</td>
    </tr>
    <tr>
      <th>24</th>
      <td>1480</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [5.141009159558869, 1.0571139195527752, 0.820249453790277], index=0), Atom('Li', [3.2705789348169056, 1.5045550288016276, 2.715159327393234], index=1), Atom('Li', [-3.601125467999465, ...</td>
      <td>Li9Al4</td>
      <td>monoclinic</td>
      <td>13.519944</td>
      <td>213.136118</td>
      <td>33.963240</td>
      <td>-31.796316</td>
      <td>13</td>
      <td>Li9Al4_monoclinic</td>
      <td>{'Li': 9, 'Al': 4}</td>
      <td>4</td>
      <td>9</td>
      <td>30.769231</td>
      <td>69.230769</td>
      <td>-2.075747</td>
      <td>-159.672835</td>
    </tr>
    <tr>
      <th>20</th>
      <td>1419</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>bcc</td>
      <td>4.216389</td>
      <td>20.403222</td>
      <td>15.823747</td>
      <td>-1.756104</td>
      <td>1</td>
      <td>Li_bcc</td>
      <td>{'Li': 1}</td>
      <td>0</td>
      <td>1</td>
      <td>0.000000</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>21</th>
      <td>1435</td>
      <td>LiAl_yace</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0))</td>
      <td>Li</td>
      <td>fcc</td>
      <td>4.331457</td>
      <td>20.318983</td>
      <td>14.231625</td>
      <td>-1.755594</td>
      <td>1</td>
      <td>Li_fcc</td>
      <td>{'Li': 1}</td>
      <td>0</td>
      <td>1</td>
      <td>0.000000</td>
      <td>100.000000</td>
      <td>0.000509</td>
      <td>0.509341</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Read df which contains DFT ref data for plotting</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">convex_ref</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s2">&quot;dft_convexhull_ref.pckl&quot;</span><span class="p">)</span>
<span class="n">convex_ref</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>energy</th>
      <th>vol</th>
      <th>compound</th>
      <th>ao</th>
      <th>number_of_atoms</th>
      <th>comp_dict</th>
      <th>n_Al</th>
      <th>n_Li</th>
      <th>cAl</th>
      <th>cLi</th>
      <th>E_form</th>
      <th>E_form_per_atom</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>438</th>
      <td>/home/users/lysogy36/tools/VASP/Al-Li/DFT/Al_fcc/murn/strain_1_0/data.json</td>
      <td>-13.930995</td>
      <td>16.484415</td>
      <td>Al_fcc</td>
      <td>(Atom('Al', [0.0, 0.0, 0.0], index=0), Atom('Al', [0.0, 2.019983601551115, 2.019983601551115], index=1), Atom('Al', [2.019983601551115, 0.0, 2.019983601551115], index=2), Atom('Al', [2.01998360155...</td>
      <td>4</td>
      <td>{'Al': 4}</td>
      <td>4</td>
      <td>0</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>910</th>
      <td>/home/users/lysogy36/tools/VASP/Al-Li/DFT/LiAl3_mp-10890/murn/strain_1_0/data.json</td>
      <td>-12.597018</td>
      <td>16.295840</td>
      <td>LiAl3_mp-10890</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Al', [2.0122514573524146, 2.0122514573524146, 0.0], index=1), Atom('Al', [2.0122514573524146, 0.0, 2.0122514573524146], index=2), Atom('Al', [0.0, 2.01...</td>
      <td>4</td>
      <td>{'Li': 1, 'Al': 3}</td>
      <td>3</td>
      <td>1</td>
      <td>75.000000</td>
      <td>25.000000</td>
      <td>-0.392474</td>
      <td>-98.118408</td>
    </tr>
    <tr>
      <th>1950</th>
      <td>/home/users/lysogy36/tools/VASP/Al-Li/DFT/LiAl_mp-1067/murn/strain_1_0/data.json</td>
      <td>-11.204795</td>
      <td>16.028228</td>
      <td>LiAl_mp-1067</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Li', [2.246243529971499, 1.2968693066945, 0.9170250810763773], index=1), Atom('Al', [4.492487059942998, 2.593738613389, 1.8340501621527545], index=2), ...</td>
      <td>4</td>
      <td>{'Li': 2, 'Al': 2}</td>
      <td>2</td>
      <td>2</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>-0.726701</td>
      <td>-181.675339</td>
    </tr>
    <tr>
      <th>1275</th>
      <td>/home/users/lysogy36/tools/VASP/Al-Li/DFT/LiAl_mp-1079240/murn/strain_1_0/data.json</td>
      <td>-21.715330</td>
      <td>18.537039</td>
      <td>LiAl_mp-1079240</td>
      <td>(Atom('Li', [-2.093764484173552e-06, 2.574581270471953, 3.588630766943668], index=0), Atom('Li', [2.229653899294873, 1.2872887040708958, 5.022609593138096], index=1), Atom('Li', [2.229653899294873...</td>
      <td>8</td>
      <td>{'Li': 4, 'Al': 4}</td>
      <td>4</td>
      <td>4</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>-0.759143</td>
      <td>-94.892853</td>
    </tr>
    <tr>
      <th>652</th>
      <td>/home/users/lysogy36/tools/VASP/Al-Li/DFT/Li3Al2_mp-16506/murn/strain_1_0/data.json</td>
      <td>-13.176984</td>
      <td>16.098544</td>
      <td>Li3Al2_mp-16506</td>
      <td>(Atom('Li', [7.387307289355338, 3.3557842846492325, 2.205190367378745], index=0), Atom('Li', [4.984874333407062, 2.2644466100798333, 1.488038392346624], index=1), Atom('Li', [0.0, 0.0, 0.0], index...</td>
      <td>5</td>
      <td>{'Li': 3, 'Al': 2}</td>
      <td>2</td>
      <td>3</td>
      <td>40.000000</td>
      <td>60.000000</td>
      <td>-0.942593</td>
      <td>-188.518538</td>
    </tr>
    <tr>
      <th>231</th>
      <td>/home/users/lysogy36/tools/VASP/Al-Li/DFT/Li9Al4_mp-568404/murn/strain_1_0/data.json</td>
      <td>-31.786765</td>
      <td>16.532577</td>
      <td>Li9Al4_mp-568404</td>
      <td>(Atom('Li', [15.085585487572331, 3.6087478779487228, 4.372653838370371], index=0), Atom('Li', [13.209884188064274, 3.160045831227256, 2.4668794892606694], index=1), Atom('Li', [6.31626414433567, 1...</td>
      <td>13</td>
      <td>{'Li': 9, 'Al': 4}</td>
      <td>4</td>
      <td>9</td>
      <td>30.769231</td>
      <td>69.230769</td>
      <td>-2.049089</td>
      <td>-157.622253</td>
    </tr>
    <tr>
      <th>1343</th>
      <td>/home/users/lysogy36/tools/VASP/Al-Li/DFT/Li_bcc/murn/strain_1_0/data.json</td>
      <td>-3.512596</td>
      <td>20.099126</td>
      <td>Li_bcc</td>
      <td>(Atom('Li', [0.0, 0.0, 0.0], index=0), Atom('Li', [1.712796338409787, 1.712796338409787, 1.712796338409787], index=1))</td>
      <td>2</td>
      <td>{'Li': 2}</td>
      <td>0</td>
      <td>2</td>
      <td>0.000000</td>
      <td>100.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Define a function to automatically get the mathematical convex hull</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.spatial</span> <span class="kn">import</span> <span class="n">ConvexHull</span><span class="p">,</span><span class="n">convex_hull_plot_2d</span>

<span class="k">def</span> <span class="nf">get_convexhull</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">df_tmp</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

    <span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">[</span><span class="s2">&quot;cLi&quot;</span><span class="p">]),</span><span class="mi">2</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="n">df_tmp</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span>  <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;cLi&quot;</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;E_form_per_atom&quot;</span><span class="p">])</span>

    <span class="n">hull</span> <span class="o">=</span> <span class="n">ConvexHull</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">hull</span><span class="p">,</span><span class="n">points</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span><span class="n">ncols</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">potentials_list</span><span class="p">),</span><span class="n">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">sharey</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">)</span>

<span class="n">dfs</span> <span class="o">=</span> <span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">data_convexhull</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;potential&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)])</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">pot</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">potentials_list</span><span class="p">):</span>
    
    <span class="n">df_tmp</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    
    
    
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">[</span><span class="s2">&quot;cLi&quot;</span><span class="p">],</span><span class="n">df_tmp</span><span class="p">[</span><span class="s2">&quot;E_form_per_atom&quot;</span><span class="p">],</span><span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    
    
    <span class="n">df_tmp</span> <span class="o">=</span> <span class="n">df_tmp</span><span class="p">[(</span><span class="n">df_tmp</span><span class="p">[</span><span class="s2">&quot;E_form_per_atom&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">0.1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df_tmp</span><span class="p">[</span><span class="s2">&quot;E_form&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">0.1</span><span class="p">)]</span>
    <span class="n">hull</span><span class="p">,</span><span class="n">points</span> <span class="o">=</span> <span class="n">get_convexhull</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">simplex</span> <span class="ow">in</span> <span class="n">hull</span><span class="o">.</span><span class="n">simplices</span><span class="p">:</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="n">simplex</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">points</span><span class="p">[</span><span class="n">simplex</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;k-&#39;</span><span class="p">)</span>
    
    
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">[</span><span class="s2">&quot;cLi&quot;</span><span class="p">],</span> <span class="n">df_tmp</span><span class="p">[</span><span class="s2">&quot;E_form_per_atom&quot;</span><span class="p">],</span><span class="s2">&quot;o&quot;</span><span class="p">,</span><span class="n">markersize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;potential&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">convex_ref</span><span class="p">[</span><span class="s2">&quot;cLi&quot;</span><span class="p">],</span><span class="n">convex_ref</span><span class="p">[</span><span class="s2">&quot;E_form_per_atom&quot;</span><span class="p">],</span><span class="n">marker</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span>
                  <span class="n">label</span><span class="o">=</span><span class="s2">&quot;DFT&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span><span class="mi">16</span><span class="p">})</span>
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Li,%&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s2">&quot;20&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;E$_f$, meV/atom&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s2">&quot;20&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">)</span>
<span class="c1"># ax.set_ylim(-200,10)</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="n">dfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;cLi&quot;</span><span class="p">]</span><span class="o">+</span><span class="mf">0.01</span><span class="p">),</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;E_form_per_atom&quot;</span><span class="p">],</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">],</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">dfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;potential&quot;</span><span class="p">],</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/validation_LiAl_41_0.png" src="../_images/validation_LiAl_41_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time_stop</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total run time for the notebook </span><span class="si">{</span><span class="n">time_stop</span> <span class="o">-</span> <span class="n">time_start</span><span class="si">}</span><span class="s2"> seconds&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Total run time for the notebook 180.9642095565796 seconds
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./validation"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../potentials/03-ACE/pacemaker_example.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Import and load</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../phase_diagram/Intro.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><font style="color:#B71C1C" face="Helvetica" > Day 3: Thermodynamic properties and phase diagrams </font></p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Jupyter Book community<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>